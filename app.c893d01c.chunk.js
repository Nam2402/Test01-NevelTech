var $=Object.defineProperty;var T=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var R=(t,e,n)=>e in t?$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||(e={}))j.call(e,n)&&R(t,n,e[n]);if(T)for(var n of T(e))k.call(e,n)&&R(t,n,e[n]);return t};import{r as f,ao as A,ap as F}from"./app.dea0d8d3.js";function U(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const v={};function C(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&v[e[0]]||(typeof e[0]=="string"&&(v[e[0]]=new Date),U(...e))}const P=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function E(t,e,n){t.loadNamespaces(e,P(t,n))}function z(t,e,n,d){typeof n=="string"&&(n=[n]),n.forEach(o=>{t.options.ns.indexOf(o)<0&&t.options.ns.push(o)}),t.loadLanguages(e,P(t,d))}function O(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const d=e.languages[0],o=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(d.toLowerCase()==="cimode")return!0;const g=(y,w)=>{const a=e.services.backendConnector.state[`${y}|${w}`];return a===-1||a===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!g(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(d,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||g(d,t)&&(!o||g(s,t)))}function B(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(C("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(o,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!s(o.isLanguageChangingTo,t))return!1}}):O(t,e,n)}const J=f.createContext();class M{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const H=(t,e)=>{const n=f.useRef();return f.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current};function q(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:d,defaultNS:o}=f.useContext(J)||{},s=n||d||F();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new M),!s){C("You will need to pass in an i18next instance by using initReactI18next");const r=(c,i)=>typeof i=="string"?i:i&&typeof i=="object"&&typeof i.defaultValue=="string"?i.defaultValue:Array.isArray(c)?c[c.length-1]:c,u=[r,{},!1];return u.t=r,u.i18n={},u.ready=!1,u}s.options.react&&s.options.react.wait!==void 0&&C("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const g=x(x(x({},A()),s.options.react),e),{useSuspense:y,keyPrefix:w}=g;let a=t||o||s.options&&s.options.defaultNS;a=typeof a=="string"?[a]:a||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(a);const p=(s.isInitialized||s.initializedStoreOnce)&&a.every(r=>B(r,s,g));function m(){return s.getFixedT(e.lng||null,g.nsMode==="fallback"?a:a[0],w)}const[I,h]=f.useState(m);let N=a.join();e.lng&&(N=`${e.lng}${N}`);const L=H(N),l=f.useRef(!0);f.useEffect(()=>{const{bindI18n:r,bindI18nStore:u}=g;l.current=!0,!p&&!y&&(e.lng?z(s,e.lng,a,()=>{l.current&&h(m)}):E(s,a,()=>{l.current&&h(m)})),p&&L&&L!==N&&l.current&&h(m);function c(){l.current&&h(m)}return r&&s&&s.on(r,c),u&&s&&s.store.on(u,c),()=>{l.current=!1,r&&s&&r.split(" ").forEach(i=>s.off(i,c)),u&&s&&u.split(" ").forEach(i=>s.store.off(i,c))}},[s,N]);const S=f.useRef(!0);f.useEffect(()=>{l.current&&!S.current&&h(m),S.current=!1},[s,w]);const b=[I,s,p];if(b.t=I,b.i18n=s,b.ready=p,p||!p&&!y)return b;throw new Promise(r=>{e.lng?z(s,e.lng,a,()=>r()):E(s,a,()=>r())})}export{q as u};
